<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>OmniKross ‚Äî AI Cross-Posting Platform</title>
        <meta
            name="description"
            content="OmniKross ‚Äî AI-powered content adaptation platform. Choose your language."
        />
        <link rel="icon" href="assets/kross-node.svg" type="image/svg+xml" />

        <!-- Preload CSS for faster loading -->
        <link rel="preload" href="css/styles.css" as="style" />
        <link rel="preload" href="css/animations.css" as="style" />
        <link rel="preload" href="css/roi-calculator.css" as="style" />

        <style>
            /* Inline critical CSS for instant display */
            :root {
                --bg: #0a0a0a;
                --accent: #6a0dad;
                --green: #00ff88;
            }
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            body {
                min-height: 100vh;
                display: flex;
                align-items: center;
                justify-content: center;
                background: var(--bg);
                color: #fff;
                font-family: "Helvetica Neue", "Inter", sans-serif;
                text-align: center;
                padding: 24px;
                background-image:
                    radial-gradient(
                        ellipse at 20% 50%,
                        rgba(106, 13, 173, 0.15) 0%,
                        transparent 50%
                    ),
                    radial-gradient(
                        ellipse at 80% 20%,
                        rgba(0, 255, 136, 0.08) 0%,
                        transparent 50%
                    );
            }
            .container {
                max-width: 480px;
            }
            img {
                width: 96px;
                height: 96px;
                margin-bottom: 24px;
                filter: drop-shadow(0 0 30px rgba(106, 13, 173, 0.5));
                animation: pulse 3s ease-in-out infinite;
            }
            h1 {
                font-size: 2rem;
                font-weight: 800;
                margin-bottom: 8px;
            }
            h1 span {
                background: linear-gradient(135deg, #6a0dad, #00ff88);
                -webkit-background-clip: text;
                -webkit-text-fill-color: transparent;
                background-clip: text;
            }
            p {
                color: rgba(255, 255, 255, 0.6);
                margin-bottom: 40px;
                font-size: 1.05rem;
            }
            .buttons {
                display: flex;
                gap: 16px;
                justify-content: center;
                flex-wrap: wrap;
            }
            .buttons a {
                padding: 16px 40px;
                border-radius: 14px;
                text-decoration: none;
                font-weight: 700;
                font-size: 1.1rem;
                transition: 0.3s ease;
                min-width: 180px;
            }
            .btn-ru {
                background: linear-gradient(135deg, #6a0dad 0%, #9b30ff 100%);
                color: #fff;
            }
            .btn-en {
                background: linear-gradient(135deg, #00cc6a 0%, #00ff88 100%);
                color: #0a0a0a;
            }
            .buttons a:hover {
                transform: translateY(-3px);
                box-shadow: 0 12px 40px rgba(106, 13, 173, 0.4);
            }
            .auto-redirect {
                font-size: 0.8rem;
                color: rgba(255, 255, 255, 0.3);
                margin-top: 32px;
                font-family: "JetBrains Mono", monospace;
            }
            @keyframes pulse {
                0%,
                100% {
                    opacity: 0.8;
                    transform: scale(1);
                }
                50% {
                    opacity: 1;
                    transform: scale(1.05);
                }
            }
        </style>

        <script>
            // Enhanced language detection with geo-IP fallback
            (function () {
                const lang = (
                    navigator.language ||
                    navigator.userLanguage ||
                    ""
                ).substring(0, 2);
                const redirected = sessionStorage.getItem("omni_lang_choice");
                const geoPreferred = localStorage.getItem("omni_geo_pref");

                // Don't auto-redirect if user already made a choice
                if (!redirected && !geoPreferred) {
                    // Check for Russian-speaking countries
                    const russianSpeaking = [
                        "ru",
                        "uk",
                        "be",
                        "kz",
                        "uz",
                        "am",
                        "az",
                        "kg",
                        "md",
                        "tj",
                        "tm",
                    ];
                    const userLang =
                        navigator.language || navigator.userLanguage || "";

                    let targetLang = "en";

                    if (
                        russianSpeaking.some((code) => userLang.includes(code))
                    ) {
                        targetLang = "ru";
                    } else if (
                        lang === "ru" ||
                        document.documentElement.lang === "ru"
                    ) {
                        targetLang = "ru";
                    }

                    // Store geo preference
                    localStorage.setItem("omni_geo_pref", targetLang);

                    // Redirect with slight delay for better UX
                    setTimeout(() => {
                        window.location.href =
                            targetLang === "ru"
                                ? "index_ru.html"
                                : "index_en.html";
                    }, 100);
                }
            })();
        </script>
    </head>
    <body>
        <div class="container">
            <img
                src="assets/kross-node.svg"
                alt="OmniKross"
                width="96"
                height="96"
            />
            <h1><span>OmniKross</span></h1>
            <p>Choose your language / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫</p>
            <div class="buttons">
                <a
                    href="index_ru.html"
                    class="btn-ru"
                    onclick="sessionStorage.setItem('omni_lang_choice', 'ru')"
                    >üá∑üá∫ –†—É—Å—Å–∫–∏–π</a
                >
                <a
                    href="index_en.html"
                    class="btn-en"
                    onclick="sessionStorage.setItem('omni_lang_choice', 'en')"
                    >üá¨üáß English</a
                >
            </div>
            <p class="auto-redirect">Auto-detecting language...</p>
        </div>

        <!-- Load main CSS asynchronously -->
        <link
            rel="stylesheet"
            href="css/styles.css"
            media="print"
            onload="this.media = 'all'"
        />
        <noscript><link rel="stylesheet" href="css/styles.css" /></noscript>
    </body>
</html>
